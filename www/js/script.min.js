function OpenStatusPopup(){anime({targets:".popup",top:"0vh",easing:"easeOutCubic",duration:750}),(popup=new Vue({el:".popup-center",data:{html:"",open:!1},methods:{outside:function(t){this.open&&(this.open=!1,anime({targets:".popup",top:"100vh",easing:"easeOutCubic",duration:750}))}},directives:{"click-outside":{bind:function(t,e,a){e.value;var n=e.modifiers.bubble,i=function(a){(n||!t.contains(a.target)&&t!==a.target)&&e.value(a)};t.__vueClickOutside__=i,document.addEventListener("click",i)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}}}})).html='<div class="loading-animation">    <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">      <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>    </svg>  </div>',setTimeout(function(){popup.open=!0,fetch("/news.html",{mode:"cors"}).then(function(t){return t.text()}).then(function(t){popup.html=t})},100)}function progressbar(t){function e(t){procanjoin=!1,requestAnimationFrame(function(){var n=prolenght+t*(proneedl-prolenght);a.style.width=n+"%",t<.9?e(t+.1):(prolenght=Number(a.style.width.replace("%","")),procanjoin=!0,prolenght>98&&removeprogressbar(0))})}var a=document.getElementsByClassName("progress")[0];proneedl=t,procanjoin&&e(0)}function removeprogressbar(t){setTimeout(function(){var e=document.getElementsByClassName("loadingbar")[0];requestAnimationFrame(function(){e.style.top="-"+t/1+"px",t<4&&removeprogressbar(t+1)})},100)}function progressbarreset(){prolenght=0}function mkclanlist(){clanslistvue=new Vue({el:".clanslist",data:{resize:document.body.clientWidth,items:clandata},methods:{open:function(t){spf.navigate("/clan/"+t),openclan(t)}}}),getclanlist()}function getclanlist(){fetch("/clandata-firstload/",{mode:"cors"}).then(function(t){return t.text()}).then(function(t){progressbar(30),t=JSON.parse(t);for(var e=0,a=0;a<t.length;a++){var n=t[a];clandata.push({id:n.i,tag:"["+n.t+"]",win:n.w+"%",rate:n.e,gm:{6:void 0,8:void 0,10:void 0,normal:void 0},s:{6:void 0,8:void 0,10:void 0,normal:void 0},pos:"-"+e+"px 0px",fun:function(t){return config[t]}}),e+=40}fetch("/clandata-load2/",{mode:"cors"}).then(function(t){return t.text()}).then(function(t){progressbar(50),MkVueData(),t=JSON.parse(t);for(var e=0;e<t.length;e++){t[e];clandata[e]=Object.assign(clandata[e],t[e])}var a=document.getElementsByClassName("listicons");if(a.length>0){var n=new Image;n.src="/clanicons.png",n.onload=function(t){progressbar(100),setTimeout(function(){function t(i){requestAnimationFrame(function(){function l(t){requestAnimationFrame(function(){a[s].style.opacity=t/o,t<o&&l(t+1)})}var o=70;e>0&&(e-=.5);var s=i;a[i].style.backgroundImage='url("'+n.src+'")',l(0),setTimeout(function(){a[i+1]?t(i+1):iconsloaded=!0},e)})}var e=20;t(0)},20)}}}).catch(function(t){console.log("Request failed "+t)})}).catch(function(t){console.log("Request failed "+t)})}function createworker(){try{new Worker("/dyjs/worker.js")}catch(t){console.error(t)}}function openclan(t){MkVueData(),anime({targets:".clanstatspage",top:"0vh",easing:"easeOutCubic",duration:750}),fetch("/claninfo/now/"+t).then(function(t){return t.text()}).then(function(t){t=JSON.parse(t),ClanDetailsClanData.image=t.emblems.x195.portal.replace("http","https"),sitetitle.sitetitle="Clan "+t.clan_tag,sitetitle.backicon=!0,ClanDetailsClanData.clantag="["+t.clan_tag+"]",ClanDetailsClanData.wglink="http://eu.wargaming.net/clans/wot/"+t.clan_id,ClanDetailsClanData.color=t.color,ClanDetailsClanData.win=t.wins_ratio_avg.value,ClanDetailsClanData.eff=t.efficiency.value,ClanDetailsClanData.sh6=t.fb_elo_rating_6.value,ClanDetailsClanData.sh8=t.fb_elo_rating_8.value,ClanDetailsClanData.sh10=t.fb_elo_rating_10.value,ClanDetailsClanData.gm6=t.gm_elo_rating_6.value,ClanDetailsClanData.gm8=t.gm_elo_rating_8.value,ClanDetailsClanData.gm10=t.gm_elo_rating_10.value,ClanDetailsClanData.dis=t.description_html.replace(/'http'/g,"https"),ClanDetailsClanData.leden=t.members_count,ClanDetailsClanData.bgimage="background: -moz-linear-gradient(top, "+t.color+" 0%, rgba(238,238,238,0) 100%);      background: -webkit-linear-gradient(top, "+t.color+" 0%,rgba(238,238,238,0) 100%);      background: linear-gradient(to bottom, "+t.color+" 0%,rgba(238,238,238,0) 100%);      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='"+t.color+"', endColorstr=#00eeeeee',GradientType=0 );"})}function MkVueData(){PlacedVueData||(PlacedVueData=!0,fetch("/clan/true",{mode:"cors"}).then(function(t){return t.text()}).then(function(t){if(siteurl.includes("/clan/"))new Vue({el:".clanstatspage",data:ClanDetailsClanData});else{Vue.component("clanstatspagecomp",{template:t,data:function(){return ClanDetailsClanData}});new Vue({el:".clanstatspage"})}}))}var clandata=[],iconsloaded=!1,config={gm:"8",s:"8"},procanjoin=!0,prolenght=0,proneedl=0,sitetitlestring="WOT NL/BE Clans",widthchange=!0,lastwidth=1e3,siteurl=document.location.pathname,PlacedVueData=!1,header=new Vue({el:".header",data:{},methods:{status:function(){OpenStatusPopup()}}}),popup=void 0;siteurl.includes("/clan/")||progressbar(10);var sitetitle=new Vue({el:".titlebar",data:{sitetitle:sitetitlestring,backicon:!1},methods:{openstart:function(){spf.navigate("/"),siteurl.includes("/clan/")&&mkclanlist(),sitetitle.sitetitle="WOT NL/BE Clans",sitetitle.backicon=!1,anime({targets:".clanstatspage",top:"100vh",easing:"easeOutCubic",duration:750})}}});if(siteurl.includes("/clan/")){var clanpage=document.getElementsByClassName("clanstatspage")[0];clanpage.style.top="0px",sitetitle.backicon=!0,fetch(siteurl.replace("/clan/","/clanname/")).then(function(t){return t.text()}).then(function(t){t=JSON.parse(t),sitetitle.sitetitle="Clan "+t.clan_tag,openclan(t.clan_id.toString())})}else mkclanlist();window.addEventListener("resize",function(t){widthchange&&(widthchange=!1,setTimeout(function(){var t=document.body.clientWidth;if(clanslistvue.resize=t,widthchange=!0,lastwidth<415&&t>415){clanslistvue.items=clanslistvue.items;for(var e=document.getElementsByClassName("listicons"),a=0;a<e.length;a++)e[a].style.backgroundImage="/clanicons.png"}lastwidth=t},300))});var ClanDetailsClanData={image:"",bgimage:"",clantag:"",wglink:"",ts:"sdf",site:"sdf",color:"",win:0,eff:0,sh6:0,sh8:0,sh10:0,gm6:0,gm8:0,gm10:0,dis:"",leden:0};spf.init();